{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":";;;;;;;;AAEA;;AAFA;;AASA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAS3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AA0BA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACxB,IAAI,cAAc,GAAG,CAAC,UAAU;QAC9B;IACF;IAEA,MAAM,UAAU,WAAW;QACzB,cAAc,MAAM,CAAC;QACrB,SAAS;YACP,MAAM;YACN,SAAS;QACX;IACF,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC7B;AAEO,MAAM,UAAU,CAAC,OAAc;IACpC,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QAEF,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QAEF,KAAK;YAAiB;gBACpB,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,2EAA2E;gBAC3E,uCAAuC;gBACvC,IAAI,SAAS;oBACX,iBAAiB;gBACnB,OAAO;oBACL,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC;wBACpB,iBAAiB,MAAM,EAAE;oBAC3B;gBACF;gBAEA,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC5B;4BACE,GAAG,CAAC;4BACJ,MAAM;wBACR,IACA;gBAER;YACF;QACA,KAAK;YACH,IAAI,OAAO,OAAO,KAAK,WAAW;gBAChC,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,EAAE;gBACZ;YACF;YACA,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;IACJ;AACF;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACjB,SAAS;IACX;AACF;AAIA,SAAS,MAAM,EAAE,GAAG,OAAc;IAChC,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACd,SAAS;YACP,MAAM;YACN,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QACxB;IACF,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACP,MAAM;QACN,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,OAAO;QACL,IAAI;QACJ;QACA;IACF;AACF;AAEA,SAAS;;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,yKAAc,CAAQ;IAEhD,0KAAe;8BAAC;YACd,UAAU,IAAI,CAAC;YACf;sCAAO;oBACL,MAAM,QAAQ,UAAU,OAAO,CAAC;oBAChC,IAAI,QAAQ,CAAC,GAAG;wBACd,UAAU,MAAM,CAAC,OAAO;oBAC1B;gBACF;;QACF;6BAAG;QAAC;KAAM;IAEV,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UAAqB,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC3E;AACF;GAlBS"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/components/ui/toast.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,gBAAgB,gLAAwB;AAE9C,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,gLAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,4KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,4KAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,oMAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,2KAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,mLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAQ;IAE3B,qBACE,6LAAC,qJAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,6IAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,kJAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,wJAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,kJAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,qJAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,2IAAQ;;;KADb"}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\nimport { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\nconst SUPABASE_URL = \"https://xgcsmkapakcyqxzxpuqk.supabase.co\";\nconst SUPABASE_PUBLISHABLE_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhnY3Nta2FwYWtjeXF4enhwdXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzNTQ3NTEsImV4cCI6MjA2NzkzMDc1MX0.N2ZaSfNJ-xOVQbevNIG7GejZPGmpImGRGIXP4uvumew\";\n\n// Import the supabase client like this:\n// import { supabase } from \"@/integrations/supabase/client\";\n\n// Create a safe storage adapter that works in both browser and SSR environments\nconst getStorage = () => {\n  if (typeof window !== 'undefined') {\n    return localStorage;\n  }\n  // Return a no-op storage for SSR\n  return {\n    getItem: () => null,\n    setItem: () => {},\n    removeItem: () => {},\n    clear: () => {},\n  };\n};\n\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\n  auth: {\n    storage: getStorage(),\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n});"],"names":[],"mappings":"AAAA,iEAAiE;;;;;AACjE;;AAGA,MAAM,eAAe;AACrB,MAAM,2BAA2B;AAEjC,wCAAwC;AACxC,6DAA6D;AAE7D,gFAAgF;AAChF,MAAM,aAAa;IACjB,wCAAmC;QACjC,OAAO;IACT;;;AAQF;AAEO,MAAM,WAAW,IAAA,0MAAY,EAAW,cAAc,0BAA0B;IACrF,MAAM;QACJ,SAAS;QACT,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/contexts/AuthContext.tsx"],"sourcesContent":["\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/integrations/supabase/client';\nimport { Json } from '../integrations/supabase/types';\n\n// Add proper type for app settings\ninterface AppSettingValue {\n  enabled?: boolean;\n  promotion_id?: string;\n  [key: string]: unknown;\n}\n\n// Google Maps Types\nexport interface GoogleMapsConfig {\n  apiKey: string;\n  libraries: string[];\n}\n\nexport interface MapLocation {\n  lat: number;\n  lng: number;\n  address?: string;\n}\n\n// Error Handling Types\nexport interface ErrorDetails {\n  message: string;\n  code?: string;\n  details?: Record<string, unknown>;\n}\n\n// Notification Types\nexport interface NotificationData {\n  id: string;\n  type: 'info' | 'success' | 'warning' | 'error';\n  title: string;\n  message: string;\n  timestamp: string;\n  read?: boolean;\n}\n\n// Realtime Data Types\nexport interface RealtimeConfig {\n  table: string;\n  event: 'INSERT' | 'UPDATE' | 'DELETE';\n  filter?: string;\n}\n\n// Content Management Types\nexport interface ContentSection {\n  id: string;\n  section: string;\n  language: string;\n  content: Json;\n  updated_at: string;\n}\n\n// Form Types\nexport interface FormField {\n  name: string;\n  label: string;\n  type: 'text' | 'email' | 'password' | 'number' | 'select' | 'textarea';\n  required?: boolean;\n  options?: Array<{ value: string; label: string }>;\n  placeholder?: string;\n}\n\n// Dashboard Stats Types\nexport interface DashboardStats {\n  totalBookings: number;\n  totalRevenue: number;\n  activePromotions: number;\n  pendingRequests: number;\n}\n\n// Service Request Types\nexport interface ServiceRequest {\n  id: string;\n  request_type: string;\n  description: string;\n  priority: string;\n  status: string;\n  room_number?: string;\n  notes?: string;\n  created_at: string;\n  updated_at: string;\n}\n\n// Review Types\nexport interface Review {\n  id: string;\n  booking_id: number;\n  rating: number;\n  message?: string;\n  created_at: string;\n  user?: {\n    name: string;\n    email: string;\n  };\n}\n\n// Housekeeping Task Types\nexport interface HousekeepingTask {\n  id: string;\n  task_type: string;\n  description?: string;\n  priority: string;\n  status: string;\n  room_id?: number;\n  assigned_to?: string;\n  estimated_duration?: number;\n  started_at?: string;\n  completed_at?: string;\n  created_at: string;\n  updated_at: string;\n}\n\n// Incident Types\nexport interface Incident {\n  id: string;\n  incident_type: string;\n  description: string;\n  location: string;\n  severity: string;\n  status: string;\n  reported_by: string;\n  assigned_to?: string;\n  resolved_at?: string;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  userRole: string | null;\n  loading: boolean;\n  signUp: (email: string, password: string, name: string, role?: string) => Promise<{ error: Error | null }>;\n  signIn: (email: string, password: string) => Promise<{ error: Error | null }>;\n  signInWithGoogle: () => Promise<{ error: Error | null }>;\n  signOut: () => Promise<void>;\n  refreshSession: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [userRole, setUserRole] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n\n  // Mobile session management utilities\n  const isMobile = () => /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  \n  const checkStorageAvailability = () => {\n    try {\n      const testKey = '__storage_test__';\n      localStorage.setItem(testKey, 'test');\n      localStorage.removeItem(testKey);\n      return true;\n    } catch {\n      return false;\n    }\n  };\n\n  const proactiveSessionRefresh = async (session: Session) => {\n    if (!session) return;\n    \n    const expiresAt = session.expires_at;\n    const currentTime = Math.floor(Date.now() / 1000);\n    const timeUntilExpiry = expiresAt - currentTime;\n    \n    // Refresh 5 minutes before expiry on mobile, 2 minutes on desktop\n    const refreshThreshold = isMobile() ? 300 : 120;\n    \n    if (timeUntilExpiry < refreshThreshold && timeUntilExpiry > 0) {\n      console.log('Proactively refreshing session...');\n      await refreshSession();\n    }\n  };\n\n  const fetchUserRole = async (userId: string) => {\n    try {\n      const { data: userData, error } = await supabase\n        .from('users')\n        .select('role')\n        .eq('id', userId)\n        .single();\n      \n      if (error) {\n        console.error('Error fetching user role:', error);\n        return null;\n      }\n      \n      return userData?.role || null;\n    } catch (error) {\n      console.error('Error fetching user role:', error);\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    let isInitialized = false;\n    let sessionRefreshInterval: NodeJS.Timeout | null = null;\n    \n    // Mobile-specific event listeners\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'visible' && session) {\n        console.log('App became visible, validating session...');\n        // Validate session when app becomes visible again\n        setTimeout(() => proactiveSessionRefresh(session), 100);\n      }\n    };\n\n    const handleOnline = () => {\n      setIsOnline(true);\n      if (session) {\n        console.log('Network restored, validating session...');\n        setTimeout(() => proactiveSessionRefresh(session), 100);\n      }\n    };\n\n    const handleOffline = () => {\n      setIsOnline(false);\n      console.log('Network lost, session management paused...');\n    };\n\n    // Set up auth state listener\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        const isMobileDevice = isMobile();\n        console.log(`Auth state changed (${isMobileDevice ? 'mobile' : 'desktop'}):`, event, session?.user?.email);\n        \n        // Prevent infinite loops during initialization\n        if (event === 'INITIAL_SESSION' && isInitialized) {\n          return;\n        }\n        \n        setSession(session);\n        setUser(session?.user ?? null);\n        \n        if (session?.user) {\n          // Fetch user role using setTimeout to avoid blocking auth state change\n          setTimeout(async () => {\n            const role = await fetchUserRole(session.user.id);\n            setUserRole(role);\n          }, 0);\n\n          // Set up proactive session refresh for mobile\n          if (isMobileDevice && sessionRefreshInterval) {\n            clearInterval(sessionRefreshInterval);\n          }\n          \n          if (isMobileDevice) {\n            sessionRefreshInterval = setInterval(() => {\n              if (isOnline) {\n                proactiveSessionRefresh(session);\n              }\n            }, 60000); // Check every minute on mobile\n          }\n        } else {\n          setUserRole(null);\n          if (sessionRefreshInterval) {\n            clearInterval(sessionRefreshInterval);\n            sessionRefreshInterval = null;\n          }\n        }\n        \n        if (!isInitialized) {\n          setLoading(false);\n          isInitialized = true;\n        }\n      }\n    );\n\n    // Check for existing session\n    const initializeAuth = async () => {\n      try {\n        // Check storage availability for mobile browsers\n        if (isMobile() && !checkStorageAvailability()) {\n          console.warn('Local storage not available on mobile browser');\n        }\n\n        const { data: { session }, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('Error getting session:', error);\n          setLoading(false);\n          return;\n        }\n        \n        setSession(session);\n        setUser(session?.user ?? null);\n        \n        if (session?.user) {\n          const role = await fetchUserRole(session.user.id);\n          setUserRole(role);\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Add mobile-specific event listeners\n    if (isMobile()) {\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      window.addEventListener('online', handleOnline);\n      window.addEventListener('offline', handleOffline);\n    }\n\n    initializeAuth();\n\n    return () => {\n      subscription.unsubscribe();\n      if (sessionRefreshInterval) {\n        clearInterval(sessionRefreshInterval);\n      }\n      if (isMobile()) {\n        document.removeEventListener('visibilitychange', handleVisibilityChange);\n        window.removeEventListener('online', handleOnline);\n        window.removeEventListener('offline', handleOffline);\n      }\n    };\n  }, []);\n\n  const signUp = async (email: string, password: string, name: string, role: string = 'Guest') => {\n    const redirectUrl = `${window.location.origin}/kabinda-lodge`;\n    \n    try {\n      // Check rate limit before attempting signup\n      const { data: rateLimitOk, error: rateLimitError } = await supabase.rpc('check_rate_limit', {\n        p_identifier: email.trim(),\n        p_attempt_type: 'signup',\n        p_max_attempts: 3,\n        p_window_minutes: 30\n      });\n\n      if (rateLimitError) {\n        console.error('Rate limit check failed:', rateLimitError);\n        // Continue with signup attempt even if rate limit check fails\n      } else if (!rateLimitOk) {\n        return { error: new Error('Too many signup attempts. Please try again in 30 minutes.') };\n      }\n\n      const { error } = await supabase.auth.signUp({\n        email: email.trim(),\n        password,\n        options: {\n          emailRedirectTo: redirectUrl,\n          data: {\n            name: name.trim(),\n            role\n          }\n        }\n      });\n      \n      if (error) {\n        console.error('Sign up error:', error);\n      }\n      \n      return { error };\n    } catch (fetchError) {\n      console.error('Sign up fetch error:', fetchError);\n      return { error: fetchError };\n    }\n  };\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      // Check rate limit before attempting login\n      const { data: rateLimitOk, error: rateLimitError } = await supabase.rpc('check_rate_limit', {\n        p_identifier: email.trim(),\n        p_attempt_type: 'login',\n        p_max_attempts: 5,\n        p_window_minutes: 15\n      });\n\n      if (rateLimitError) {\n        console.error('Rate limit check failed:', rateLimitError);\n        // Continue with login attempt even if rate limit check fails\n      } else if (!rateLimitOk) {\n        return { error: new Error('Too many login attempts. Please try again in 15 minutes.') };\n      }\n\n      const { error } = await supabase.auth.signInWithPassword({\n        email: email.trim(),\n        password\n      });\n      \n      if (error) {\n        console.error('Sign in error:', error);\n      }\n      \n      return { error };\n    } catch (fetchError) {\n      console.error('Sign in fetch error:', fetchError);\n      return { error: fetchError };\n    }\n  };\n\n  const signInWithGoogle = async () => {\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider: 'google',\n        options: {\n          redirectTo: `${window.location.origin}/kabinda-lodge`\n        }\n      });\n      \n      if (error) {\n        console.error('Google sign in error:', error);\n      }\n      \n      return { error };\n    } catch (fetchError) {\n      console.error('Google sign in fetch error:', fetchError);\n      return { error: fetchError };\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) {\n        console.error('Sign out error:', error);\n      }\n      \n      // Clear local state\n      setUser(null);\n      setSession(null);\n      setUserRole(null);\n    } catch (error) {\n      console.error('Sign out error:', error);\n    }\n  };\n\n  const refreshSession = async () => {\n    try {\n      // Add retry logic for mobile networks\n      let retryCount = 0;\n      const maxRetries = isMobile() ? 3 : 1;\n      \n      while (retryCount <= maxRetries) {\n        try {\n          const { data: { session }, error } = await supabase.auth.refreshSession();\n          \n          if (error) {\n            throw error;\n          }\n          \n          setSession(session);\n          setUser(session?.user ?? null);\n          \n          if (session?.user) {\n            const role = await fetchUserRole(session.user.id);\n            setUserRole(role);\n          }\n          \n          console.log('Session refreshed successfully');\n          return;\n        } catch (error) {\n          retryCount++;\n          if (retryCount > maxRetries) {\n            throw error;\n          }\n          \n          // Exponential backoff for retries\n          const delay = Math.min(1000 * Math.pow(2, retryCount - 1), 5000);\n          console.log(`Session refresh failed, retrying in ${delay}ms... (attempt ${retryCount}/${maxRetries})`);\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n    } catch (error) {\n      console.error('Error refreshing session after retries:', error);\n      \n      // On mobile, if session refresh fails completely, try to re-validate\n      if (isMobile()) {\n        console.log('Attempting to re-validate session on mobile...');\n        try {\n          const { data: { session } } = await supabase.auth.getSession();\n          if (!session) {\n            console.log('No valid session found, user needs to re-authenticate');\n            setUser(null);\n            setSession(null);\n            setUserRole(null);\n          }\n        } catch (revalidateError) {\n          console.error('Session re-validation failed:', revalidateError);\n        }\n      }\n    }\n  };\n\n  const value = {\n    user,\n    session,\n    userRole,\n    loading,\n    signUp,\n    signIn,\n    signInWithGoogle,\n    signOut,\n    refreshSession\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/contexts/LanguageContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\n\ntype LanguageCode = 'fr' | 'en';\n\ninterface Translation {\n  key: string;\n  language: LanguageCode;\n  value: string;\n}\n\ninterface LanguageContextType {\n  currentLanguage: LanguageCode;\n  setSystemLanguage: (language: LanguageCode) => void;\n  translations: Record<string, string>;\n  t: (key: string, fallback?: string) => string;\n  isLoading: boolean;\n  supportedLanguages: LanguageCode[];\n  isLanguageReady: boolean;\n  canChangeLanguage: boolean;\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nexport const useLanguage = () => {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error('useLanguage must be used within a LanguageProvider');\n  }\n  return context;\n};\n\n// Comprehensive default translations\nconst defaultTranslations: Record<LanguageCode, Record<string, string>> = {\n  fr: {\n    // Navigation\n    'nav.home': 'Accueil',\n    'nav.rooms': 'Chambres',\n    'nav.conference': 'Salle de Conférence',\n    'nav.about': 'À Propos',\n    'nav.restaurant': 'Restaurant',\n    'nav.contact': 'Contact',\n    'nav.dashboard': 'Tableau de Bord',\n    'nav.bookings': 'Réservations',\n    'nav.users': 'Utilisateurs',\n    'nav.reports': 'Rapports',\n    'nav.settings': 'Paramètres',\n\n    // Common Actions\n    'action.save': 'Enregistrer',\n    'action.cancel': 'Annuler',\n    'action.delete': 'Supprimer',\n    'action.edit': 'Modifier',\n    'action.add': 'Ajouter',\n    'action.view': 'Voir',\n    'action.close': 'Fermer',\n    'action.confirm': 'Confirmer',\n    'action.back': 'Retour',\n    'action.next': 'Suivant',\n    'action.previous': 'Précédent',\n    'action.submit': 'Soumettre',\n    'action.search': 'Rechercher',\n    'action.filter': 'Filtrer',\n    'action.sort': 'Trier',\n    'action.refresh': 'Actualiser',\n    'action.print': 'Imprimer',\n    'action.download': 'Télécharger',\n    'action.upload': 'Téléverser',\n\n    // Status\n    'status.pending': 'En Attente',\n    'status.approved': 'Approuvé',\n    'status.rejected': 'Rejeté',\n    'status.completed': 'Terminé',\n    'status.cancelled': 'Annulé',\n    'status.active': 'Actif',\n    'status.inactive': 'Inactif',\n    'status.available': 'Disponible',\n    'status.occupied': 'Occupé',\n    'status.maintenance': 'Maintenance',\n    'status.cleaning': 'Nettoyage',\n\n    // Dashboard\n    'dashboard.welcome': 'Bienvenue',\n    'dashboard.overview': 'Aperçu',\n    'dashboard.stats': 'Statistiques',\n    'dashboard.recent_activity': 'Activité Récente',\n    'dashboard.quick_actions': 'Actions Rapides',\n    'dashboard.total_users': 'Total Utilisateurs',\n    'dashboard.total_rooms': 'Total Chambres',\n    'dashboard.total_bookings': 'Total Réservations',\n    'dashboard.total_revenue': 'Revenu Total',\n    'dashboard.pending_orders': 'Commandes en Attente',\n    'dashboard.available_tables': 'Tables Disponibles',\n    'dashboard.active_menu_items': 'Articles de Menu Actifs',\n\n    // Booking\n    'booking.new': 'Nouvelle Réservation',\n    'booking.edit': 'Modifier Réservation',\n    'booking.details': 'Détails de Réservation',\n    'booking.confirm': 'Confirmer Réservation',\n    'booking.cancel': 'Annuler Réservation',\n    'booking.check_in': 'Arrivée',\n    'booking.check_out': 'Départ',\n    'booking.guest_name': 'Nom du Client',\n    'booking.guest_email': 'Email du Client',\n    'booking.guest_phone': 'Téléphone du Client',\n    'booking.room_type': 'Type de Chambre',\n    'booking.room_number': 'Numéro de Chambre',\n    'booking.nights': 'Nuits',\n    'booking.total_amount': 'Montant Total',\n    'booking.payment_method': 'Méthode de Paiement',\n    'booking.transaction_ref': 'Référence Transaction',\n    'booking.booking_id': 'ID de Réservation',\n    'booking.booking_date': 'Date de Réservation',\n    'booking.booking_status': 'Statut de Réservation',\n\n    // Room\n    'room.available': 'Disponible',\n    'room.occupied': 'Occupée',\n    'room.maintenance': 'Maintenance',\n    'room.cleaning': 'Nettoyage',\n    'room.standard': 'Standard',\n    'room.deluxe': 'Deluxe',\n    'room.suite': 'Suite',\n    'room.presidential': 'Présidentielle',\n    'room.price_per_night': 'Prix par Nuit',\n    'room.amenities': 'Équipements',\n    'room.description': 'Description',\n    'room.capacity': 'Capacité',\n    'room.size': 'Taille',\n    'room.view': 'Vue',\n\n    // Restaurant\n    'restaurant.menu': 'Menu',\n    'restaurant.order': 'Commande',\n    'restaurant.orders': 'Commandes',\n    'restaurant.new_order': 'Nouvelle Commande',\n    'restaurant.order_details': 'Détails de Commande',\n    'restaurant.order_status': 'Statut de Commande',\n    'restaurant.order_total': 'Total de Commande',\n    'restaurant.table_number': 'Numéro de Table',\n    'restaurant.item_name': 'Nom de l\\'Article',\n    'restaurant.item_price': 'Prix de l\\'Article',\n    'restaurant.item_quantity': 'Quantité',\n    'restaurant.item_total': 'Total Article',\n    'restaurant.subtotal': 'Sous-total',\n    'restaurant.tax': 'Taxe',\n    'restaurant.discount': 'Remise',\n    'restaurant.grand_total': 'Total Général',\n    'restaurant.payment_method': 'Méthode de Paiement',\n    'restaurant.cash': 'Espèces',\n    'restaurant.card': 'Carte',\n    'restaurant.mobile_money': 'Mobile Money',\n\n    // Conference Room\n    'conference.room': 'Salle de Conférence',\n    'conference.rooms': 'Salles de Conférence',\n    'conference.booking': 'Réservation Salle',\n    'conference.bookings': 'Réservations Salles',\n    'conference.room_name': 'Nom de la Salle',\n    'conference.capacity': 'Capacité',\n    'conference.price_per_day': 'Prix par Jour',\n    'conference.booking_date': 'Date de Réservation',\n    'conference.start_time': 'Heure de Début',\n    'conference.end_time': 'Heure de Fin',\n    'conference.attendees': 'Participants',\n    'conference.notes': 'Notes',\n\n    // Receipt\n    'receipt.title': 'FACTURE',\n    'receipt.company_name': 'KABINDA LODGE',\n    'receipt.booking_receipt': 'FACTURE',\n    'receipt.receipt_date': 'Date de Reçu',\n    'receipt.booking_id': 'ID de Réservation',\n    'receipt.guest_name': 'Nom du Client',\n    'receipt.guest_email': 'Email du Client',\n    'receipt.guest_phone': 'Téléphone du Client',\n    'receipt.room_name': 'Nom de la Chambre',\n    'receipt.room_type': 'Type de Chambre',\n    'receipt.check_in': 'Arrivée',\n    'receipt.check_out': 'Départ',\n    'receipt.nights': 'Nuits',\n    'receipt.room_price': 'Prix de la Chambre',\n    'receipt.total_amount': 'Montant Total',\n    'receipt.payment_method': 'Méthode de Paiement',\n    'receipt.transaction_ref': 'Référence Transaction',\n    'receipt.promotion': 'Promotion',\n    'receipt.discount': 'Remise',\n    'receipt.subtotal': 'Sous-total',\n    'receipt.tax': 'Taxe',\n    'receipt.grand_total': 'Total Général',\n    'receipt.thank_you': 'Merci d\\'avoir choisi Kabinda Lodge. Nous espérons que vous apprécierez votre séjour !',\n    'receipt.contact_info': 'Pour toute question, veuillez contacter notre réception.',\n    'receipt.company_tagline': 'Kabinda Lodge - Expérience d\\'Hospitalité de Luxe',\n\n    // Restaurant Receipt\n    'restaurant_receipt.title': 'REÇU DE RESTAURANT',\n    'restaurant_receipt.order_receipt': 'REÇU DE COMMANDE',\n    'restaurant_receipt.order_id': 'ID de Commande',\n    'restaurant_receipt.order_date': 'Date de Commande',\n    'restaurant_receipt.table_number': 'Numéro de Table',\n    'restaurant_receipt.items': 'Articles',\n    'restaurant_receipt.quantity': 'Quantité',\n    'restaurant_receipt.price': 'Prix',\n    'restaurant_receipt.total': 'Total',\n    'restaurant_receipt.thank_you': 'Merci pour votre commande !',\n\n    // User Management\n    'user.profile': 'Profil',\n    'user.settings': 'Paramètres',\n    'user.logout': 'Déconnexion',\n    'user.login': 'Connexion',\n    'user.register': 'Inscription',\n    'user.email': 'Email',\n    'user.password': 'Mot de Passe',\n    'user.confirm_password': 'Confirmer Mot de Passe',\n    'user.first_name': 'Prénom',\n    'user.last_name': 'Nom',\n    'user.phone': 'Téléphone',\n    'user.role': 'Rôle',\n    'user.admin': 'Administrateur',\n    'user.receptionist': 'Réceptionniste',\n    'user.restaurant_lead': 'Chef de Restaurant',\n    'user.kitchen': 'Cuisine',\n    'user.super_admin': 'Super Administrateur',\n\n    // Messages\n    'message.success': 'Succès',\n    'message.error': 'Erreur',\n    'message.warning': 'Avertissement',\n    'message.info': 'Information',\n    'message.confirm': 'Confirmer',\n    'message.cancel': 'Annuler',\n    'message.yes': 'Oui',\n    'message.no': 'Non',\n    'message.ok': 'OK',\n    'message.loading': 'Chargement...',\n    'message.saving': 'Enregistrement...',\n    'message.deleting': 'Suppression...',\n    'message.please_wait': 'Veuillez patienter...',\n\n    // Form Labels\n    'form.required': 'Requis',\n    'form.optional': 'Optionnel',\n    'form.email': 'Adresse Email',\n    'form.password': 'Mot de Passe',\n    'form.confirm_password': 'Confirmer Mot de Passe',\n    'form.first_name': 'Prénom',\n    'form.last_name': 'Nom',\n    'form.phone': 'Téléphone',\n    'form.address': 'Adresse',\n    'form.city': 'Ville',\n    'form.country': 'Pays',\n    'form.postal_code': 'Code Postal',\n    'form.notes': 'Notes',\n    'form.description': 'Description',\n    'form.title': 'Titre',\n    'form.category': 'Catégorie',\n    'form.price': 'Prix',\n    'form.quantity': 'Quantité',\n    'form.date': 'Date',\n    'form.time': 'Heure',\n    'form.start_date': 'Date de Début',\n    'form.end_date': 'Date de Fin',\n\n    // Time\n    'time.today': 'Aujourd\\'hui',\n    'time.yesterday': 'Hier',\n    'time.tomorrow': 'Demain',\n    'time.this_week': 'Cette Semaine',\n    'time.last_week': 'Semaine Dernière',\n    'time.this_month': 'Ce Mois',\n    'time.last_month': 'Mois Dernier',\n    'time.this_year': 'Cette Année',\n    'time.last_year': 'Année Dernière',\n\n    // Months\n    'month.january': 'Janvier',\n    'month.february': 'Février',\n    'month.march': 'Mars',\n    'month.april': 'Avril',\n    'month.may': 'Mai',\n    'month.june': 'Juin',\n    'month.july': 'Juillet',\n    'month.august': 'Août',\n    'month.september': 'Septembre',\n    'month.october': 'Octobre',\n    'month.november': 'Novembre',\n    'month.december': 'Décembre',\n\n    // Days\n    'day.monday': 'Lundi',\n    'day.tuesday': 'Mardi',\n    'day.wednesday': 'Mercredi',\n    'day.thursday': 'Jeudi',\n    'day.friday': 'Vendredi',\n    'day.saturday': 'Samedi',\n    'day.sunday': 'Dimanche',\n\n    // Errors\n    'error.general': 'Une erreur s\\'est produite',\n    'error.network': 'Erreur de réseau',\n    'error.unauthorized': 'Non autorisé',\n    'error.forbidden': 'Accès interdit',\n    'error.not_found': 'Page non trouvée',\n    'error.server_error': 'Erreur du serveur',\n    'error.validation': 'Erreur de validation',\n    'error.required_field': 'Ce champ est requis',\n    'error.invalid_email': 'Email invalide',\n    'error.invalid_phone': 'Numéro de téléphone invalide',\n    'error.password_mismatch': 'Les mots de passe ne correspondent pas',\n    'error.invalid_credentials': 'Identifiants invalides',\n\n    // Success\n    'success.saved': 'Enregistré avec succès',\n    'success.deleted': 'Supprimé avec succès',\n    'success.updated': 'Mis à jour avec succès',\n    'success.created': 'Créé avec succès',\n    'success.booking_confirmed': 'Réservation confirmée',\n    'success.order_placed': 'Commande passée',\n    'success.payment_received': 'Paiement reçu',\n\n    // Content\n    'content.not_available': 'Contenu Non Disponible',\n    'content.load_error': 'Impossible de charger le contenu. Veuillez réessayer plus tard.',\n    'content.no_data': 'Aucune donnée disponible',\n    'content.loading': 'Chargement...',\n\n    // Database Reset\n    'reset.title': 'Réinitialisation de Base de Données',\n    'reset.description': 'Effacer toutes les données opérationnelles tout en préservant la configuration système',\n    'reset.warning': '⚠️ Opération Critique',\n    'reset.warning_text': 'Cela supprimera définitivement toutes les données opérationnelles incluant :',\n    'reset.will_delete': '• Toutes les réservations de chambres',\n    'reset.will_delete_orders': '• Toutes les commandes de restaurant',\n    'reset.will_delete_conference': '• Toutes les réservations de salles de conférence',\n    'reset.will_delete_services': '• Toutes les demandes de service',\n    'reset.will_delete_feedback': '• Tous les commentaires clients',\n    'reset.will_delete_notifications': '• Toutes les notifications',\n    'reset.preserved': 'Préservé :',\n    'reset.preserved_text': 'Configurations de chambres, articles de menu, équipements, données de salles de conférence et paramètres système.',\n    'reset.confirm_title': 'Confirmer la Réinitialisation',\n    'reset.confirm_text': 'Cette action ne peut pas être annulée. Toutes les données opérationnelles seront définitivement supprimées.',\n    'reset.type_delete': 'Tapez \"delete\" pour confirmer :',\n    'reset.button': 'Réinitialiser Base de Données',\n    'reset.loading': 'Réinitialisation...',\n    'reset.success': 'Réinitialisation Terminée',\n    'reset.success_text': 'Toutes les données opérationnelles ont été effacées. Les données de configuration système ont été préservées.',\n    'reset.failed': 'Échec de la Réinitialisation',\n    'reset.failed_text': 'Une erreur s\\'est produite lors de la réinitialisation de la base de données. Veuillez réessayer.',\n    'reset.invalid_confirmation': 'Confirmation Invalide',\n    'reset.invalid_text': 'Veuillez taper \"delete\" exactement pour confirmer la réinitialisation',\n\n    // System\n    'system.overview': 'Aperçu du Système',\n    'system.status': 'Statut de Base de Données',\n    'system.operational': 'Opérationnel',\n    'system.last_reset': 'Dernière Réinitialisation',\n    'system.never': 'Jamais',\n    'system.version': 'Version du Système',\n    'system.important_notes': 'Notes Importantes',\n    'system.reset_usage': '• Utilisez la fonction de réinitialisation uniquement au début des opérations',\n    'system.data_cleared': '• Toutes les données opérationnelles seront effacées mais la configuration système préservée',\n    'system.irreversible': '• Cette action est irréversible et nécessite une confirmation',\n    'system.backup': '• Considérez sauvegarder les données avant la réinitialisation si nécessaire'\n  },\n  en: {\n    // Navigation\n    'nav.home': 'Home',\n    'nav.rooms': 'Rooms',\n    'nav.conference': 'Conference Room',\n    'nav.about': 'About',\n    'nav.restaurant': 'Restaurant',\n    'nav.contact': 'Contact',\n    'nav.dashboard': 'Dashboard',\n    'nav.bookings': 'Bookings',\n    'nav.users': 'Users',\n    'nav.reports': 'Reports',\n    'nav.settings': 'Settings',\n\n    // Common Actions\n    'action.save': 'Save',\n    'action.cancel': 'Cancel',\n    'action.delete': 'Delete',\n    'action.edit': 'Edit',\n    'action.add': 'Add',\n    'action.view': 'View',\n    'action.close': 'Close',\n    'action.confirm': 'Confirm',\n    'action.back': 'Back',\n    'action.next': 'Next',\n    'action.previous': 'Previous',\n    'action.submit': 'Submit',\n    'action.search': 'Search',\n    'action.filter': 'Filter',\n    'action.sort': 'Sort',\n    'action.refresh': 'Refresh',\n    'action.print': 'Print',\n    'action.download': 'Download',\n    'action.upload': 'Upload',\n\n    // Status\n    'status.pending': 'Pending',\n    'status.approved': 'Approved',\n    'status.rejected': 'Rejected',\n    'status.completed': 'Completed',\n    'status.cancelled': 'Cancelled',\n    'status.active': 'Active',\n    'status.inactive': 'Inactive',\n    'status.available': 'Available',\n    'status.occupied': 'Occupied',\n    'status.maintenance': 'Maintenance',\n    'status.cleaning': 'Cleaning',\n\n    // Dashboard\n    'dashboard.welcome': 'Welcome',\n    'dashboard.overview': 'Overview',\n    'dashboard.stats': 'Statistics',\n    'dashboard.recent_activity': 'Recent Activity',\n    'dashboard.quick_actions': 'Quick Actions',\n    'dashboard.total_users': 'Total Users',\n    'dashboard.total_rooms': 'Total Rooms',\n    'dashboard.total_bookings': 'Total Bookings',\n    'dashboard.total_revenue': 'Total Revenue',\n    'dashboard.pending_orders': 'Pending Orders',\n    'dashboard.available_tables': 'Available Tables',\n    'dashboard.active_menu_items': 'Active Menu Items',\n\n    // Booking\n    'booking.new': 'New Booking',\n    'booking.edit': 'Edit Booking',\n    'booking.details': 'Booking Details',\n    'booking.confirm': 'Confirm Booking',\n    'booking.cancel': 'Cancel Booking',\n    'booking.check_in': 'Check In',\n    'booking.check_out': 'Check Out',\n    'booking.guest_name': 'Guest Name',\n    'booking.guest_email': 'Guest Email',\n    'booking.guest_phone': 'Guest Phone',\n    'booking.room_type': 'Room Type',\n    'booking.room_number': 'Room Number',\n    'booking.nights': 'Nights',\n    'booking.total_amount': 'Total Amount',\n    'booking.payment_method': 'Payment Method',\n    'booking.transaction_ref': 'Transaction Reference',\n    'booking.booking_id': 'Booking ID',\n    'booking.booking_date': 'Booking Date',\n    'booking.booking_status': 'Booking Status',\n\n    // Room\n    'room.available': 'Available',\n    'room.occupied': 'Occupied',\n    'room.maintenance': 'Maintenance',\n    'room.cleaning': 'Cleaning',\n    'room.standard': 'Standard',\n    'room.deluxe': 'Deluxe',\n    'room.suite': 'Suite',\n    'room.presidential': 'Presidential',\n    'room.price_per_night': 'Price per Night',\n    'room.amenities': 'Amenities',\n    'room.description': 'Description',\n    'room.capacity': 'Capacity',\n    'room.size': 'Size',\n    'room.view': 'View',\n\n    // Restaurant\n    'restaurant.menu': 'Menu',\n    'restaurant.order': 'Order',\n    'restaurant.orders': 'Orders',\n    'restaurant.new_order': 'New Order',\n    'restaurant.order_details': 'Order Details',\n    'restaurant.order_status': 'Order Status',\n    'restaurant.order_total': 'Order Total',\n    'restaurant.table_number': 'Table Number',\n    'restaurant.item_name': 'Item Name',\n    'restaurant.item_price': 'Item Price',\n    'restaurant.item_quantity': 'Quantity',\n    'restaurant.item_total': 'Item Total',\n    'restaurant.subtotal': 'Subtotal',\n    'restaurant.tax': 'Tax',\n    'restaurant.discount': 'Discount',\n    'restaurant.grand_total': 'Grand Total',\n    'restaurant.payment_method': 'Payment Method',\n    'restaurant.cash': 'Cash',\n    'restaurant.card': 'Card',\n    'restaurant.mobile_money': 'Mobile Money',\n\n    // Conference Room\n    'conference.room': 'Conference Room',\n    'conference.rooms': 'Conference Rooms',\n    'conference.booking': 'Conference Booking',\n    'conference.bookings': 'Conference Bookings',\n    'conference.room_name': 'Room Name',\n    'conference.capacity': 'Capacity',\n    'conference.price_per_day': 'Price per Day',\n    'conference.booking_date': 'Booking Date',\n    'conference.start_time': 'Start Time',\n    'conference.end_time': 'End Time',\n    'conference.attendees': 'Attendees',\n    'conference.notes': 'Notes',\n\n    // Receipt\n    'receipt.title': 'BOOKING RECEIPT',\n    'receipt.company_name': 'KABINDA LODGE',\n    'receipt.booking_receipt': 'BOOKING RECEIPT',\n    'receipt.receipt_date': 'Receipt Date',\n    'receipt.booking_id': 'Booking ID',\n    'receipt.guest_name': 'Guest Name',\n    'receipt.guest_email': 'Guest Email',\n    'receipt.guest_phone': 'Guest Phone',\n    'receipt.room_name': 'Room Name',\n    'receipt.room_type': 'Room Type',\n    'receipt.check_in': 'Check In',\n    'receipt.check_out': 'Check Out',\n    'receipt.nights': 'Nights',\n    'receipt.room_price': 'Room Price',\n    'receipt.total_amount': 'Total Amount',\n    'receipt.payment_method': 'Payment Method',\n    'receipt.transaction_ref': 'Transaction Reference',\n    'receipt.promotion': 'Promotion',\n    'receipt.discount': 'Discount',\n    'receipt.subtotal': 'Subtotal',\n    'receipt.tax': 'Tax',\n    'receipt.grand_total': 'Grand Total',\n    'receipt.thank_you': 'Thank you for choosing Kabinda Lodge. We hope you enjoy your stay!',\n    'receipt.contact_info': 'For any inquiries, please contact our reception desk.',\n    'receipt.company_tagline': 'Kabinda Lodge - Luxury Hospitality Experience',\n\n    // Restaurant Receipt\n    'restaurant_receipt.title': 'RESTAURANT RECEIPT',\n    'restaurant_receipt.order_receipt': 'ORDER RECEIPT',\n    'restaurant_receipt.order_id': 'Order ID',\n    'restaurant_receipt.order_date': 'Order Date',\n    'restaurant_receipt.table_number': 'Table Number',\n    'restaurant_receipt.items': 'Items',\n    'restaurant_receipt.quantity': 'Quantity',\n    'restaurant_receipt.price': 'Price',\n    'restaurant_receipt.total': 'Total',\n    'restaurant_receipt.thank_you': 'Thank you for your order!',\n\n    // User Management\n    'user.profile': 'Profile',\n    'user.settings': 'Settings',\n    'user.logout': 'Logout',\n    'user.login': 'Login',\n    'user.register': 'Register',\n    'user.email': 'Email',\n    'user.password': 'Password',\n    'user.confirm_password': 'Confirm Password',\n    'user.first_name': 'First Name',\n    'user.last_name': 'Last Name',\n    'user.phone': 'Phone',\n    'user.role': 'Role',\n    'user.admin': 'Admin',\n    'user.receptionist': 'Receptionist',\n    'user.restaurant_lead': 'Restaurant Lead',\n    'user.kitchen': 'Kitchen',\n    'user.super_admin': 'Super Admin',\n\n    // Messages\n    'message.success': 'Success',\n    'message.error': 'Error',\n    'message.warning': 'Warning',\n    'message.info': 'Information',\n    'message.confirm': 'Confirm',\n    'message.cancel': 'Cancel',\n    'message.yes': 'Yes',\n    'message.no': 'No',\n    'message.ok': 'OK',\n    'message.loading': 'Loading...',\n    'message.saving': 'Saving...',\n    'message.deleting': 'Deleting...',\n    'message.please_wait': 'Please wait...',\n\n    // Form Labels\n    'form.required': 'Required',\n    'form.optional': 'Optional',\n    'form.email': 'Email Address',\n    'form.password': 'Password',\n    'form.confirm_password': 'Confirm Password',\n    'form.first_name': 'First Name',\n    'form.last_name': 'Last Name',\n    'form.phone': 'Phone',\n    'form.address': 'Address',\n    'form.city': 'City',\n    'form.country': 'Country',\n    'form.postal_code': 'Postal Code',\n    'form.notes': 'Notes',\n    'form.description': 'Description',\n    'form.title': 'Title',\n    'form.category': 'Category',\n    'form.price': 'Price',\n    'form.quantity': 'Quantity',\n    'form.date': 'Date',\n    'form.time': 'Time',\n    'form.start_date': 'Start Date',\n    'form.end_date': 'End Date',\n\n    // Time\n    'time.today': 'Today',\n    'time.yesterday': 'Yesterday',\n    'time.tomorrow': 'Tomorrow',\n    'time.this_week': 'This Week',\n    'time.last_week': 'Last Week',\n    'time.this_month': 'This Month',\n    'time.last_month': 'Last Month',\n    'time.this_year': 'This Year',\n    'time.last_year': 'Last Year',\n\n    // Months\n    'month.january': 'January',\n    'month.february': 'February',\n    'month.march': 'March',\n    'month.april': 'April',\n    'month.may': 'May',\n    'month.june': 'June',\n    'month.july': 'July',\n    'month.august': 'August',\n    'month.september': 'September',\n    'month.october': 'October',\n    'month.november': 'November',\n    'month.december': 'December',\n\n    // Days\n    'day.monday': 'Monday',\n    'day.tuesday': 'Tuesday',\n    'day.wednesday': 'Wednesday',\n    'day.thursday': 'Thursday',\n    'day.friday': 'Friday',\n    'day.saturday': 'Saturday',\n    'day.sunday': 'Sunday',\n\n    // Errors\n    'error.general': 'An error occurred',\n    'error.network': 'Network error',\n    'error.unauthorized': 'Unauthorized',\n    'error.forbidden': 'Access forbidden',\n    'error.not_found': 'Page not found',\n    'error.server_error': 'Server error',\n    'error.validation': 'Validation error',\n    'error.required_field': 'This field is required',\n    'error.invalid_email': 'Invalid email',\n    'error.invalid_phone': 'Invalid phone number',\n    'error.password_mismatch': 'Passwords do not match',\n    'error.invalid_credentials': 'Invalid credentials',\n\n    // Success\n    'success.saved': 'Saved successfully',\n    'success.deleted': 'Deleted successfully',\n    'success.updated': 'Updated successfully',\n    'success.created': 'Created successfully',\n    'success.booking_confirmed': 'Booking confirmed',\n    'success.order_placed': 'Order placed',\n    'success.payment_received': 'Payment received',\n\n    // Content\n    'content.not_available': 'Content Not Available',\n    'content.load_error': 'Unable to load content. Please try again later.',\n    'content.no_data': 'No data available',\n    'content.loading': 'Loading...',\n\n    // Database Reset\n    'reset.title': 'Database Reset',\n    'reset.description': 'Clear all operational data while preserving system configuration',\n    'reset.warning': '⚠️ Critical Operation',\n    'reset.warning_text': 'This will permanently delete all operational data including:',\n    'reset.will_delete': '• All room bookings and reservations',\n    'reset.will_delete_orders': '• All restaurant orders and payments',\n    'reset.will_delete_conference': '• All conference room bookings',\n    'reset.will_delete_services': '• All service requests and maintenance records',\n    'reset.will_delete_feedback': '• All guest feedback and reviews',\n    'reset.will_delete_notifications': '• All notifications and system logs',\n    'reset.preserved': 'Preserved:',\n    'reset.preserved_text': 'Room configurations, menu items, amenities, conference room data, and system settings.',\n    'reset.confirm_title': 'Confirm Database Reset',\n    'reset.confirm_text': 'This action cannot be undone. All operational data will be permanently deleted.',\n    'reset.type_delete': 'Type \"delete\" to confirm:',\n    'reset.button': 'Reset Database',\n    'reset.loading': 'Resetting...',\n    'reset.success': 'Database Reset Complete',\n    'reset.success_text': 'All operational data has been cleared. System configuration data has been preserved.',\n    'reset.failed': 'Reset Failed',\n    'reset.failed_text': 'An error occurred while resetting the database. Please try again.',\n    'reset.invalid_confirmation': 'Invalid Confirmation',\n    'reset.invalid_text': 'Please type \"delete\" exactly to confirm the reset',\n\n    // System\n    'system.overview': 'System Overview',\n    'system.status': 'Database Status',\n    'system.operational': 'Operational',\n    'system.last_reset': 'Last Reset',\n    'system.never': 'Never',\n    'system.version': 'System Version',\n    'system.important_notes': 'Important Notes',\n    'system.reset_usage': '• Use the database reset feature only when starting operations',\n    'system.data_cleared': '• All operational data will be cleared but system configuration preserved',\n    'system.irreversible': '• This action is irreversible and requires confirmation',\n    'system.backup': '• Consider backing up data before reset if needed'\n  }\n};\n\nexport const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { user } = useAuth();\n  const [currentLanguage, setCurrentLanguage] = useState<LanguageCode>('fr');\n  const [translations, setTranslations] = useState<Record<string, string>>({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLanguageReady, setIsLanguageReady] = useState(false);\n  const [canChangeLanguage, setCanChangeLanguage] = useState(false);\n  const [supportedLanguages] = useState<LanguageCode[]>(['fr', 'en']);\n\n  // Check user role for language change permission\n  useEffect(() => {\n    if (user) {\n      const checkUserRole = async () => {\n        try {\n          const { data: userData } = await supabase\n            .from('users')\n            .select('role')\n            .eq('id', user.id)\n            .single();\n          \n          setCanChangeLanguage(userData?.role === 'SuperAdmin');\n        } catch (error) {\n          console.error('Error checking user role:', error);\n          setCanChangeLanguage(false);\n        }\n      };\n      checkUserRole();\n    } else {\n      setCanChangeLanguage(false);\n    }\n  }, [user]);\n\n  // Initialize language from system setting\n  useEffect(() => {\n    const loadSystemLanguage = async () => {\n      try {\n        const { data } = await supabase\n          .from('app_settings')\n          .select('value')\n          .eq('key', 'system_default_language')\n          .is('user_id', null)\n          .maybeSingle();\n        \n        let systemLanguage: LanguageCode = 'fr';\n        if (data?.value && typeof data.value === 'string') {\n          try {\n            // Try to parse as JSON first (in case it's stored as JSON string)\n            const parsed = JSON.parse(data.value);\n            systemLanguage = (parsed === 'fr' || parsed === 'en') ? parsed : 'fr';\n          } catch {\n            // If parsing fails, use the value directly (it's already a plain string)\n            systemLanguage = (data.value === 'fr' || data.value === 'en') ? data.value : 'fr';\n          }\n        }\n        setCurrentLanguage(systemLanguage);\n      } catch (error) {\n        console.error('Error loading system language:', error);\n        setCurrentLanguage('fr'); // Default fallback\n      }\n    };\n    \n    loadSystemLanguage();\n  }, []);\n\n  // Set up real-time subscription for system language changes\n  useEffect(() => {\n    const subscription = supabase\n      .channel('system-language-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: 'UPDATE',\n          schema: 'public',\n          table: 'app_settings',\n          filter: 'key=eq.system_default_language'\n        },\n        (payload) => {\n          if (payload.new && payload.new.value && typeof payload.new.value === 'string') {\n            try {\n              // Try to parse as JSON first (in case it's stored as JSON string)\n              const parsed = JSON.parse(payload.new.value);\n              const newLanguage = (parsed === 'fr' || parsed === 'en') ? parsed : 'fr';\n              setCurrentLanguage(newLanguage);\n            } catch {\n              // If parsing fails, use the value directly (it's already a plain string)\n              const newLanguage = (payload.new.value === 'fr' || payload.new.value === 'en') ? payload.new.value : 'fr';\n              setCurrentLanguage(newLanguage);\n            }\n          }\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(subscription);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Load translations for current language\n    const loadTranslations = async () => {\n      setIsLoading(true);\n      try {\n        // First, load from database\n        const { data, error } = await supabase\n          .from('translations')\n          .select('key, value')\n          .eq('language', currentLanguage);\n\n        if (error) {\n          console.warn('Failed to load translations from database:', error);\n        }\n\n        // Start with default translations\n        const translationMap = { ...defaultTranslations[currentLanguage] };\n\n        // Override with database translations if available\n        if (data && data.length > 0) {\n          data.forEach(item => {\n            translationMap[item.key] = item.value;\n          });\n        }\n\n        // Fallback to English if French translations are missing\n        if (currentLanguage === 'fr') {\n          const missingKeys = Object.keys(defaultTranslations.en).filter(\n            key => !translationMap[key]\n          );\n          \n          missingKeys.forEach(key => {\n            translationMap[key] = defaultTranslations.en[key];\n          });\n        }\n\n        setTranslations(translationMap);\n        setIsLanguageReady(true);\n      } catch (error) {\n        console.error('Failed to load translations:', error);\n        // Fallback to default translations\n        setTranslations(defaultTranslations[currentLanguage]);\n        setIsLanguageReady(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadTranslations();\n  }, [currentLanguage]);\n\n  // Set system language function (SuperAdmin only)\n  const setSystemLanguage = async (language: LanguageCode) => {\n    if (!canChangeLanguage) {\n      console.error('Access denied: Only SuperAdmin can change system language');\n      return;\n    }\n    \n    try {\n      const { error } = await supabase\n        .from('app_settings')\n        .update({ value: JSON.stringify(language) })\n        .eq('key', 'system_default_language')\n        .is('user_id', null);\n      \n      if (error) throw error;\n      \n      // Language will be updated via real-time subscription\n    } catch (error) {\n      console.error('Error updating system language:', error);\n    }\n  };\n\n  const t = (key: string, fallback?: string): string => {\n    // Return translation if available\n    if (translations[key]) {\n      return translations[key];\n    }\n    \n    // Return fallback if provided\n    if (fallback) {\n      return fallback;\n    }\n    \n    // Return key if no translation found\n    return key;\n  };\n\n  const value: LanguageContextType = {\n    currentLanguage,\n    setSystemLanguage,\n    translations,\n    t,\n    isLoading,\n    supportedLanguages,\n    isLanguageReady,\n    canChangeLanguage\n  };\n\n  return (\n    <LanguageContext.Provider value={value}>\n      {children}\n    </LanguageContext.Provider>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1691, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ThemeProvider } from \"next-themes\";\nimport { AuthProvider } from \"@/contexts/AuthContext\";\nimport { LanguageProvider } from \"@/contexts/LanguageContext\";\nimport { useState } from \"react\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 60 * 1000,\n          },\n        },\n      })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider defaultTheme=\"light\" attribute=\"class\" enableSystem disableTransitionOnChange>\n        <AuthProvider>\n          <LanguageProvider>{children}</LanguageProvider>\n        </AuthProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS,UAAU,EAAE,QAAQ,EAAiC;;IAC3E,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;8BAC5B,IACE,IAAI,+LAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBACP,WAAW,KAAK;oBAClB;gBACF;YACF;;IAGJ,qBACE,6LAAC,gNAAmB;QAAC,QAAQ;kBAC3B,cAAA,6LAAC,oKAAa;YAAC,cAAa;YAAQ,WAAU;YAAQ,YAAY;YAAC,yBAAyB;sBAC1F,cAAA,6LAAC,kJAAY;0BACX,cAAA,6LAAC,0JAAgB;8BAAE;;;;;;;;;;;;;;;;;;;;;AAK7B;GArBwB;KAAA"}},
    {"offset": {"line": 1763, "column": 0}, "map": {"version":3,"sources":["file:///Users/Pascal%20Digny/Github%20Lab/Kabinda%20Lodge%202.0/src/app/FaviconHandler.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\n\nexport default function FaviconHandler() {\n  useEffect(() => {\n    const setFavicon = (href: string, type?: string) => {\n      const ensureLink = (rel: string) => {\n        let link = document.querySelector<HTMLLinkElement>(`link[rel=\"${rel}\"]`);\n        if (!link) {\n          link = document.createElement(\"link\");\n          link.rel = rel as any;\n          document.head.appendChild(link);\n        }\n        return link;\n      };\n      const icon = ensureLink(\"icon\");\n      if (type) icon.type = type;\n      icon.href = href;\n      const shortcut = ensureLink(\"shortcut icon\");\n      if (type) shortcut.type = type;\n      shortcut.href = href;\n    };\n\n    (async () => {\n      try {\n        // 1) Try app_settings first\n        const { data: appData } = await supabase\n          .from(\"app_settings\")\n          .select(\"value\")\n          .eq(\"category\", \"branding\")\n          .eq(\"key\", \"favicon_url\")\n          .maybeSingle();\n\n        const parseVal = (raw: unknown): string | null => {\n          if (!raw) return null;\n          if (typeof raw === \"string\") {\n            try {\n              const parsed = JSON.parse(raw);\n              if (typeof parsed === \"string\") return parsed;\n              if (parsed && typeof parsed === \"object\" && (parsed as { url?: string }).url)\n                return (parsed as { url?: string }).url || null;\n            } catch {\n              if (/^(https?:)?\\//.test(raw)) return raw;\n            }\n          }\n          if (raw && typeof raw === \"object\" && (raw as { url?: string }).url) {\n            return (raw as { url?: string }).url || null;\n          }\n          return null;\n        };\n\n        let url: string | null = parseVal(appData?.value as unknown);\n\n        // 2) Fallback to website_content.site_branding.favicon_url (default to 'en')\n        if (!url) {\n          const { data: wc } = await supabase\n            .from(\"website_content\")\n            .select(\"content\")\n            .eq(\"section\", \"site_branding\")\n            .eq(\"language\", \"en\")\n            .maybeSingle();\n          const favFromContent = (wc?.content as any)?.favicon_url as string | undefined;\n          if (favFromContent && typeof favFromContent === \"string\" && favFromContent.trim()) {\n            url = favFromContent.trim();\n          }\n        }\n\n        // 3) Apply favicon or default\n        const apply = (u: string) => {\n          const lower = u.toLowerCase();\n          const type = lower.endsWith(\".png\")\n            ? \"image/png\"\n            : lower.endsWith(\".jpg\") || lower.endsWith(\".jpeg\")\n              ? \"image/jpeg\"\n              : \"image/x-icon\";\n          const href = `${u}${u.includes(\"?\") ? \"&\" : \"?\"}t=${Date.now()}`;\n          setFavicon(href, type);\n        };\n\n        if (url) apply(url);\n        else setFavicon(\"/logo.png\", \"image/png\");\n      } catch {\n        // On any error ensure a favicon exists\n        setFavicon(\"/logo.png\", \"image/png\");\n      }\n    })();\n  }, []);\n\n  return null;\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKe,SAAS;;IACtB,IAAA,0KAAS;oCAAC;YACR,MAAM;uDAAa,CAAC,MAAc;oBAChC,MAAM;0EAAa,CAAC;4BAClB,IAAI,OAAO,SAAS,aAAa,CAAkB,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC;4BACvE,IAAI,CAAC,MAAM;gCACT,OAAO,SAAS,aAAa,CAAC;gCAC9B,KAAK,GAAG,GAAG;gCACX,SAAS,IAAI,CAAC,WAAW,CAAC;4BAC5B;4BACA,OAAO;wBACT;;oBACA,MAAM,OAAO,WAAW;oBACxB,IAAI,MAAM,KAAK,IAAI,GAAG;oBACtB,KAAK,IAAI,GAAG;oBACZ,MAAM,WAAW,WAAW;oBAC5B,IAAI,MAAM,SAAS,IAAI,GAAG;oBAC1B,SAAS,IAAI,GAAG;gBAClB;;YAEA;4CAAC;oBACC,IAAI;wBACF,4BAA4B;wBAC5B,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,wJAAQ,CACrC,IAAI,CAAC,gBACL,MAAM,CAAC,SACP,EAAE,CAAC,YAAY,YACf,EAAE,CAAC,OAAO,eACV,WAAW;wBAEd,MAAM;iEAAW,CAAC;gCAChB,IAAI,CAAC,KAAK,OAAO;gCACjB,IAAI,OAAO,QAAQ,UAAU;oCAC3B,IAAI;wCACF,MAAM,SAAS,KAAK,KAAK,CAAC;wCAC1B,IAAI,OAAO,WAAW,UAAU,OAAO;wCACvC,IAAI,UAAU,OAAO,WAAW,YAAY,AAAC,OAA4B,GAAG,EAC1E,OAAO,AAAC,OAA4B,GAAG,IAAI;oCAC/C,EAAE,OAAM;wCACN,IAAI,gBAAgB,IAAI,CAAC,MAAM,OAAO;oCACxC;gCACF;gCACA,IAAI,OAAO,OAAO,QAAQ,YAAY,AAAC,IAAyB,GAAG,EAAE;oCACnE,OAAO,AAAC,IAAyB,GAAG,IAAI;gCAC1C;gCACA,OAAO;4BACT;;wBAEA,IAAI,MAAqB,SAAS,SAAS;wBAE3C,6EAA6E;wBAC7E,IAAI,CAAC,KAAK;4BACR,MAAM,EAAE,MAAM,EAAE,EAAE,GAAG,MAAM,wJAAQ,CAChC,IAAI,CAAC,mBACL,MAAM,CAAC,WACP,EAAE,CAAC,WAAW,iBACd,EAAE,CAAC,YAAY,MACf,WAAW;4BACd,MAAM,iBAAkB,IAAI,SAAiB;4BAC7C,IAAI,kBAAkB,OAAO,mBAAmB,YAAY,eAAe,IAAI,IAAI;gCACjF,MAAM,eAAe,IAAI;4BAC3B;wBACF;wBAEA,8BAA8B;wBAC9B,MAAM;8DAAQ,CAAC;gCACb,MAAM,QAAQ,EAAE,WAAW;gCAC3B,MAAM,OAAO,MAAM,QAAQ,CAAC,UACxB,cACA,MAAM,QAAQ,CAAC,WAAW,MAAM,QAAQ,CAAC,WACvC,eACA;gCACN,MAAM,OAAO,GAAG,IAAI,EAAE,QAAQ,CAAC,OAAO,MAAM,IAAI,EAAE,EAAE,KAAK,GAAG,IAAI;gCAChE,WAAW,MAAM;4BACnB;;wBAEA,IAAI,KAAK,MAAM;6BACV,WAAW,aAAa;oBAC/B,EAAE,OAAM;wBACN,uCAAuC;wBACvC,WAAW,aAAa;oBAC1B;gBACF;aAAC;QACH;mCAAG,EAAE;IAEL,OAAO;AACT;GAtFwB;KAAA"}}]
}